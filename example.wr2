<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <title>%pageTitle()%</title>
</head>
<body>
    <h1>%pageTitle()%</h1>

    
    <!-- 条件分岐の例 -->
    <wr-if condition="isNotNull(email)">
        <wr-then>
            <p>メールアドレス: <a href="mailto:%email%">%email%</a></p>
        </wr-then>
        
        <wr-else>
            <p>メールアドレスは登録されていません</p>
        </wr-else>
        <wr-for list="items" variable="item">
            <p>%items.name%</p>
        </wr-for>
    </wr-if>
    <wr-if condition="isNotNull(email)">
        <wr-comment>
            test
        </wr-comment>
        <wr-->
            test
        </wr-->
        <wr-then>
            <p>メールアドレス: <a href="mailto:%email%">%email%</a></p>
        </wr-then>
        
        <wr-else>
            <p>メールアドレスは登録されていません</p>
        </wr-else>

    </wr-if>
    <wr-if condition="isNotNull(email)">
        aaa <br/>
    </wr-if>
    <wr-for list='card.selectPriceInfo' variable="info">
    <wr-conditional>
        <wr-cond condition='info.selectedName() == "grpPriceInfo"'>
            <wr-variable name='priceInfo' value='info.selectedValue()'></wr-variable>
            <div class="m-service-category-card__price">
                %priceInfo.radioPaymentType%：%generatePrice(priceInfo.grpPrice)%
                %generateBenefit(priceInfo.grpBenefit)%
                %generateBakuage(priceInfo.grpBakuage)%
            </div>
        </wr-cond>
        <wr-cond condition='info.selectedName() == "grpPriceInfoHtml"'>
            <div class="m-service-category-card__price">
                %card.selectPriceInfo.selectedValue().txtHtml%
            </div>
        </wr-cond>
    </wr-conditional>
    <wr-switch value="info.selectedName()">
        <wr-case value="grpPriceInfo">
            <div class="m-service-category-card__price">
                %priceInfo.radioPaymentType%：%generatePrice(priceInfo.grpPrice)%
                %generateBenefit(priceInfo.grpBenefit)%
                %generateBakuage(priceInfo.grpBakuage)%
            </div>
        </wr-case>
        <wr-default>
            test2<br/>
        </wr-default>
    </wr-switch>
    <wr-switch value="info.selectedName()">
        aaa
        <wr-case value="grpPriceInfo">
            <div class="m-service-category-card__price">
                %priceInfo.radioPaymentType%：%generatePrice(priceInfo.grpPrice)%
                %generateBenefit(priceInfo.grpBenefit)%
                %generateBakuage(priceInfo.grpBakuage)%
            </div>
        </wr-case>
    </wr-switch>
    <wr-switch value="info.selectedName()">
        <wr-comment>
            test
        </wr-comment>
        <wr-default>
            <div class="m-service-category-card__price">
                %priceInfo.radioPaymentType%：%generatePrice(priceInfo.grpPrice)%
                %generateBenefit(priceInfo.grpBenefit)%
                %generateBakuage(priceInfo.grpBakuage)%
            </div>
            <wr-switch value="info.selectedName()">
                <wr-case value="grpPriceInfo">
                    <div class="m-service-category-card__price">
                        %priceInfo.radioPaymentType%：%generatePrice(priceInfo.grpPrice)%
                        %generateBenefit(priceInfo.grpBenefit)%
                        %generateBakuage(priceInfo.grpBakuage)%
                    </div>
                </wr-case>
                <wr-default>
                    <div class="m-service-category-card__price">
                        %priceInfo.radioPaymentType%：%generatePrice(priceInfo.grpPrice)%
                        %generateBenefit(priceInfo.grpBenefit)%
                        %generateBakuage(priceInfo.grpBakuage)%
                    </div>
                </wr-default>
            </wr-switch>
        </wr-default> 
        <wr-case value="grpPriceInfo">
            <div class="m-service-category-card__price">
                %priceInfo.radioPaymentType%：%generatePrice(priceInfo.grpPrice)%
                %generateBenefit(priceInfo.grpBenefit)%
                %generateBakuage(priceInfo.grpBakuage)%
            </div>
        </wr-case>
        <wr-default>
            <div class="m-service-category-card__price">
                %priceInfo.radioPaymentType%：%generatePrice(priceInfo.grpPrice)%
                %generateBenefit(priceInfo.grpBenefit)%
                %generateBakuage(priceInfo.grpBakuage)%
            </div>
        </wr-default>
    </wr-switch>
    <wr-conditional condition="info.selectedName() == 'grpPriceInfo'">
        aaa
        <wr-cond condition='info.selectedName() == "grpPriceInfo"'>
            <wr-variable name='priceInfo' value='info.selectedValue()'></wr-variable>
            <div class="m-service-category-card__price">
                %generateBakuage(priceInfo.grpBakuage)%
            </div>
        </wr-cond>
    </wr-conditional>
    <wr-conditional>
        <wr-comment>
            test
        </wr-comment>
        <wr-->
            test
        </wr-->
        <wr-cond condition='info.selectedName() == "grpPriceInfo"'>
            <wr-variable name='priceInfo' value='info.selectedValue()'></wr-variable>
            <div class="m-service-category-card__price">
                %generateBakuage(priceInfo.grpBakuage)%
            </div>
        </wr-cond>
    </wr-conditional>
    <!-- ループの例 -->
    <h2>記事一覧</h2>
    <table border="1">
        <thead>
            <tr>
                <th>No.</th>
                <th>日付</th>
                <th>タイトル</th>
            </tr>
        </thead>
        <tbody>
            <wr-for list="articles" variable="article" count="i">
                <tr>
                    <td>%i%</td>
                    <td>%article.date%</td>
                    <td>%article.title%</td>
                </tr>
                <!-- OK: wr-break inside wr-for -->
                <wr-break condition="i == 3"/>
            </wr-for>
        </tbody>
    </table>

    <!-- OK: wr-break inside wr-if inside wr-for -->
    <wr-for list="住所" variable="address" count="i">
        <tr>
            <td>%address.郵便番号%</td>
            <td>%address.住所%</td>
        </tr>
        <wr-if condition="i == 3">
            <tr>
                <td colspan="2">以上 %i% 件です</td>
            </tr>
            <wr-break/>
        </wr-if>
    </wr-for>

    <!-- ERROR: wr-break outside wr-for -->
    <wr-break condition="true"/>
    
    <!-- 変数の使用例 -->
    <!-- wr-variable OK -->
    <wr-variable name="total" value="0" />
    <wr-variable name="onlyName" />
    <wr-variable name="emptyBody"></wr-variable>
    <wr-variable name="bodyValue">
        ここに記述された展開の評価結果が変数の値になります。
        <wr-for list="articles" variable="article">
            %pageTitle(article)%<br />
        </wr-for>
    </wr-variable>

    <!-- wr-variable NG -->
    <wr-variable />
    <wr-variable name="conflict" value="0">aaa</wr-variable>

    <!-- wr-append OK -->
    <wr-append name="log" value="start" />
    <wr-append name="log">
        追記する値は本文でも定義できます。
        %pageTitle()%<br />
    </wr-append>

    <!-- wr-append NG -->
    <wr-append value="x"/>
    <wr-append name="conflictAppend" value="1">body</wr-append>

    <!-- 必須属性チェック OK -->
    <wr-clear name="total" />
    <wr-return value="%total%" />
    <wr-if condition="true">
        <wr-then>OK</wr-then>
    </wr-if>
    <wr-conditional>
        <wr-cond condition="true">OK</wr-cond>
    </wr-conditional>
    <wr-switch value="x">
        <wr-case value="x">OK</wr-case>
        <wr-default>OK</wr-default>
    </wr-switch>
    <wr-for list="articles" variable="article"></wr-for>

    <!-- 必須属性チェック NG -->
    <wr-clear />
    <wr-return />
    <wr-if>
        <wr-then>NG</wr-then>
    </wr-if>
    <wr-conditional>
        <wr-cond>NG</wr-cond>
    </wr-conditional>
    <wr-switch>
        <wr-case value="x">NG</wr-case>
    </wr-switch>
    <wr-switch value="x">
        <wr-case>NG</wr-case>
    </wr-switch>
    <wr-for list="articles"></wr-for>

    <p>合計: %total%</p>
    
    <!-- 複雑な条件の例 -->
    <wr-if condition="isNumber(price) && (price * 1.1 > 1000)">
        <p>税込価格が1000円を超えています</p>
    </wr-if>
    
    <!-- コメント -->
    <wr-comment>
        このセクションはコメントです。
        展開結果には含まれません。
    </wr-comment>
    
    <footer>
        <p>最終更新: %formatDate(currentTime(), "yyyy/MM/dd HH:mm")%</p>
    </footer>
</body>
</html>